(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();const h={gameState:"start",score:0,highScore:0,baseSpeed:380,lastTime:0,obstacles:[],groundOffsetX:0,backgroundOffsetX:0,distanceSinceLastObstacle:0,obstacleDistance:500};function I(e,t){const i=60*e;return{x:80,y:t-i,width:40*e,height:i,vy:0,grounded:!0,jumping:!1,reachedMinJump:!1,jumpStartY:0,frameIndex:0,frameTimer:0}}function M(e,t){return e.frameTimer+=t*1e3,e.frameTimer>=100&&(e.frameIndex=(e.frameIndex+1)%7,e.frameTimer=0),{col:e.frameIndex%5,row:Math.floor(e.frameIndex/5)}}function O(e,t,i,n){e.vy+=n*t,e.y+=e.vy*t,e.jumping&&!e.reachedMinJump&&e.jumpStartY-e.y>=60&&(e.reachedMinJump=!0),e.y+e.height>=i.y&&(e.y=i.y-e.height,e.vy=0,e.grounded=!0,e.jumping=!1),e.y+=e.vy*t,e.y+e.height>=i.y&&(e.y=i.y-e.height,e.vy=0,e.grounded=!0,e.jumping=!1)}function T(e,t,i){Math.random()<.6?e.push({type:"campfire",x:t+40,y:i-126*.45,width:150*.45,height:126*.45,frame:0,frameTimer:0}):e.push({type:"tombstone",x:t+40,y:i-80,width:48,height:80,hbOffsetX:48*.25,hbOffsetY:80*.2,hbWidth:48*.5,hbHeight:80*.8})}function E(e,t,i,n,r,o){for(let f=e.length-1;f>=0;f--){const d=e[f];if(d.x-=t*i,d.x+d.width<0){e.splice(f,1);continue}}n.distanceSinceLastObstacle+=t*i,n.distanceSinceLastObstacle>=n.obstacleDistance&&(T(e,r,o),n.distanceSinceLastObstacle=0,n.obstacleDistance=450+Math.random()*300)}function y(e,t,i){document.addEventListener("keydown",o=>{o.code==="Space"&&(e.gameState==="start"?(i(),e.gameState="running"):e.gameState==="running"?t.grounded&&(t.vy=-450,t.grounded=!1,t.jumping=!0,t.reachedMinJump=!1,t.jumpStartY=t.y):e.gameState,o.preventDefault()),(o.key==="r"||o.key==="R")&&e.gameState==="gameover"&&(i(),e.gameState="running")}),document.addEventListener("keyup",o=>{o.code==="Space"&&t.jumping&&t.reachedMinJump&&t.vy<-120&&(t.vy=-120)})}function _(e,t){if(t.type==="tombstone"){const i=t.x+t.hbOffsetX,n=t.y+t.hbOffsetY,r=t.hbWidth,o=t.hbHeight;return!(e.x+e.width<i||e.x>i+r||e.y+e.height<n||e.y>n+o)}else return!(e.x+e.width<t.x||e.x>t.x+t.width||e.y+e.height<t.y||e.y>t.y+t.height)}const c=new Image;c.src="/media/startscreen.png";const a=new Image;a.src="/media/player_run.png";const l=new Image;l.src="/media/campfire.png";const S=new Image;S.src="/media/tombstone.png";const w=new Image;w.src="/media/ground.jpg";const p=new Image;p.src="/media/background.png";const u=Object.freeze(Object.defineProperty({__proto__:null,backgroundSprite:p,campfireSprite:l,groundSprite:w,playerSprite:a,startImage:c,tombstoneSprite:S},Symbol.toStringTag,{value:"Module"}));function A(e,t,i,n,r,o){const f=t.groundSprite;if(!f.complete||f.width===0)return;if(n.gameState==="running"){const g=o;n.groundOffsetX-=n.baseSpeed*g}const d=f.width;let m=Math.floor(n.groundOffsetX);m<=-d&&(n.groundOffsetX+=d,m+=d);for(let g=m;g<i.width+d;g+=d)e.drawImage(f,g,r.y,d+1,r.height)}function b(e,t,i,n,r){const o=t.backgroundSprite;if(!o.complete||o.width===0)return;if(n.gameState==="running"){const s=r;n.backgroundOffsetX-=n.baseSpeed*.25*s}const f=o.width,d=o.height,m=i.height/d,g=Math.ceil(f*m);n.backgroundOffsetX=Math.floor(n.backgroundOffsetX),n.backgroundOffsetX<=-g&&(n.backgroundOffsetX+=g);for(let s=n.backgroundOffsetX;s<i.width+g;s+=g)e.drawImage(o,s,0,g+1,i.height)}function P(e,t,i,n){e.drawImage(t.playerSprite,i.col*150,i.row*150,150,150,n.x,n.y,n.width,n.height)}function H(e,t,i,n){i.forEach(r=>{r.type==="campfire"&&(r.frameTimer+=n*1e3,r.frameTimer>=120&&(r.frame=(r.frame+1)%4,r.frameTimer=0),e.drawImage(t.campfireSprite,r.frame*150,0,150,126,Math.round(r.x),Math.round(r.y),r.width,r.height)),r.type==="tombstone"&&e.drawImage(t.tombstoneSprite,Math.round(r.x),Math.round(r.y),r.width,r.height)})}function R(e,t,i,n){e.fillStyle="#f5f5f5",e.font="20px system-ui",e.textAlign="left",e.fillText("Score: "+Math.floor(i.score),16,32),e.fillStyle="#ff5252",e.textAlign="right",e.fillText("Highscore: "+Math.floor(i.highScore),t.width-16,32),i.gameState==="start"&&C(e,t,n),i.gameState==="gameover"&&L(e,i,t)}function C(e,t,i){e.fillStyle="rgba(0, 0, 0, 0.6)",e.fillRect(0,0,t.width,t.height);const n=300,r=300;e.drawImage(i.startImage,t.width/2-n/2,t.height/2-r/2-40,n,r),e.fillStyle="#ffffff",e.textAlign="center",e.font="32px system-ui",e.fillText("RUN FROM JASON",t.width/2,t.height/2+150),e.font="18px system-ui",e.fillText("Druk op SPATIE om te starten",t.width/2,t.height/2+185)}function L(e,t,i){e.fillStyle="rgba(0, 0, 0, 0.7)",e.fillRect(0,0,i.width,i.height),e.textAlign="center",e.fillStyle="#ff5252",e.font="32px system-ui",e.fillText("GAME OVER",i.width/2,i.height/2-40),e.fillStyle="#ffffff",e.font="20px system-ui",e.fillText("Score: "+Math.floor(t.score),i.width/2,i.height/2),e.fillText("Highscore: "+Math.floor(t.highScore),i.width/2,i.height/2+30),e.font="18px system-ui",e.fillText("Druk op R om opnieuw te spelen",i.width/2,i.height/2+70)}function F(e){const t=e.getContext("2d");t.imageSmoothingEnabled=!1;const i={y:e.height-96,height:96},n=I(1.8,i.y);y(h,n,r);function r(){h.score=0,h.baseSpeed=380,h.obstacles.length=0,h.lastTime=0,h.gameState="running",n.y=i.y-n.height,n.vy=0,n.grounded=!0,n.jumping=!1,n.reachedMinJump=!1}function o(f){if(h.lastTime===0){h.lastTime=f,requestAnimationFrame(o);return}const d=f-h.lastTime;h.lastTime=f;const m=d/1e3;if(h.gameState==="running"){O(n,m,i,1400),M(n,m),E(h.obstacles,h.baseSpeed,m,h,e.width,i.y);for(const g of h.obstacles)if(_(n,g)){h.gameState="gameover";break}h.score+=m*10,h.score>h.highScore&&(h.highScore=h.score)}X(t,e,n,h,i,m),requestAnimationFrame(o)}requestAnimationFrame(o)}function X(e,t,i,n,r,o){e.clearRect(0,0,t.width,t.height),b(e,u,t,n,o),A(e,u,t,n,r,o),H(e,u,n.obstacles,o);const f={col:i.frameIndex%5,row:Math.floor(i.frameIndex/5)};P(e,u,f,i),R(e,t,n,u)}const k=document.getElementById("gameCanvas");F(k);
